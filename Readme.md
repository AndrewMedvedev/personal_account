# Документация API Gateway


# Сервис личного кабинета


## Базовый ендпоинт: `/get/token/`


## Token:
Ресурс для работы с токенами.


> GET '/get/token/{access}/{refresh}'


Обязательные данные подлежащие заполнению.


| Name | Type |
|:--------:|:-----:|
| access | str |
| refresh | str |


Пример ответа:
'{
  "status_code": 200,
  "detail": "OK",
  "headers": null
}'


## Обязательно уточнение:
Сервис не будет работать если не передать токены в эндпоинт /get/token/


## Базовый ендпоинт: `/logout/`


## Logout:
Ресурс для удаления токенов из cookie.


> GET '/logout/'


Эндпоинт сам достает токены из cookie и утилизирует их.


Пример ответа:
'{
  "status_code": 200,
  "detail": "OK",
  "headers": null
}'


## Базовый ендпоинт: `/predict/`


## Predict:
Ресурс для получения специальностей и вероятности поступления на них.


> POST '/api/v1/predict/'


Обязательные данные подлежащие заполнению.


| Name | Type |
|:----------:|:---------:|
| gender | Literal['male','female'] |
| foreign_citizenship | str |
| military_service | Literal['yes','no'] |
| gpa | float |
| points | int |
| bonus_points | int |
| exams | List[dict] |
| year | int |


Пример ответа:
'{
  "recomendate": [
    {
      "direction_id": 20,
      "name": "08.03.01 Строительство"
    },
    {
      "direction_id": 0,
      "name": "23.03.01 Технология транспортных процессов"
    },
    {
      "direction_id": 12,
      "name": "12.03.01 Приборостроение"
    },
    {
      "direction_id": 2,
      "name": "20.03.01 Техносферная безопасность"
    },
    {
      "direction_id": 1,
      "name": "13.03.01 Теплоэнергетика и теплотехника"
    },
    {
      "direction_id": 0,
      "name": "21.03.01 Нефтегазовое дело"
    }
  ],
  "classifier": [
    0.31,
    0.32,
    0.79,
    0.8,
    0.31,
    0.04
  ]
}'


Разработчик api рекомендательной системы и классификатора.
GitHub: https://github.com/Andr171p


## Direction:
Ресурс для получения описания специальности.


> GET '/api/v1/predict/direction/{direction_id}'


Обязательные данные подлежащие заполнению.


| Name | Type |
|:-------------:|:-------:|
| direction_id | int |


Пример ответа:
'Форма обучения:ОчноПрофиль:Промышленное и гражданское строительство;Теплогазоснабжение и вентиляция; Водоснабжение и водоотведение; Автомобильные дороги; Производство\nи применение строительных материалов, изделий и конструкций;Организация инвестиционно-строительной деятельности;Объекты транспортной инфраструктурыВступительные экзамены:Математика; Физика / Химия / Информатика и ИКТ; Русский языкСрок обучения:4 годаФорма обучения:Очно-заочнаяПрофиль:Промышленное и гражданское строительство;Вступительные экзамены:Математика; Физика / Химия / Информатика и ИКТ; Русский языкСрок обучения:5 летЧто изучать:- проектирование, строительство,\nэксплуатация и ремонт зданий и сооружений промышленного и гражданского\nназначения;- проектирование, строительство,\nэксплуатация и ремонт автомобильных дорог;- проектирование, монтаж и\nэксплуатация систем теплогазоснабжения и вентиляции, водоснабжение и\nводоотведение зданий и сооружений;- строительные материалы, изделия и\nконструкции;- проектирование, строительство,\nэксплуатация и ремонт объектов транспортной инфраструктуры;- машины, оборудование,\nтехнологические комплексы и системы автоматизации;- сметное дело и ценообразование в\nстроительстве.Чем заниматься:- инженерные\nизыскания для строительства;- проектирование,\nстроительство и оснащение объектов капитального строительства и\nжилищно-коммунального хозяйства, в сфере технической эксплуатации, ремонта,\nдемонтажа и реконструкции зданий, линейных сооружений и объектов инфраструктуры\nтранспорта, объектов жилищно-коммунального хозяйства, в сфере производства и\nприменения строительных материалов, изделий и конструкций.'


Разработчик api получения описания специальности.
GitHub: https://github.com/Andr171p


## Points:
Ресурс для получения баллов специальности за прошлые годы.


> GET '/api/v1/predict/points/{direction_id}'


Обязательные данные подлежащие заполнению.


| Name | Type |
|:-------------:|:-------:|
| direction_id | int |


Пример ответа:
'[
  {
    "year": 2019,
    "points": 177
  },
  {
    "year": 2020,
    "points": 152
  },
  {
    "year": 2021,
    "points": 140
  },
  {
    "year": 2022,
    "points": 125
  },
  {
    "year": 2023,
    "points": 140
  }
]'


Разработчик api получения баллов за прошлые годы.
GitHub: https://github.com/Andr171p


## Free:
Ресурс для получения упрощенной рекомендации.


> POST '/api/v1/predict/free'


Обязательные данные подлежащие заполнению.


| Name | Type |
|:----------:|:-------:|
| year | int |
| gender | Literal['male','female'] |
| gpa | float |
| points | int |
| direction | str |


Пример ответа:
'0.54'


Разработчик api упрощенной рекомендации.
GitHub: https://github.com/Andr171p


## Базовый ендпоинт: `/answer/`


## Answer:
Чат на основе gigachat отвечающий на вопросы связынне с ТИУ.


> GET '/api/v1/answer/{message}'



Обязательные данные подлежащие заполнению.


| Name | Type |
|:----------:|:-------:|
| message | str |

Пример вопроса:
'что такое ТИУ'
Пример ответа:
'{
  "answer": "Тюменский индустриальный университет (ТИУ) — это высшее учебное заведение в Тюмени, которое специализируется на подготовке специалистов для нефтегазовой и строительной отраслей."
}'


Разработчик api упрощенной рекомендации.
GitHub: https://github.com/Andr171p


## Базовый ендпоинт: `/visitors/`


## Add:
Ресурс для регистрации пользователя на мероприятии.


> POST '/api/v1/visitors/add/{event_id}'


Обязательные данные подлежащие заполнению.


| Name | Type |
|:----------:|:-------:|
| event_id  | int |


Пример ответа:
''200''


Разработчик api регистрации пользователя на мероприятии.
https://github.com/AndrewMedvedev/events_fastapi


## Get:
Ресурс для получения мероприятий на которые зарегестрировался пользователь.


> GET '/api/v1/visitors/get'


Обязательные данные подлежащие заполнению.


| Name | Type |
|:----------:|:-------:|
| _  | _ |


Пример ответа:
'[
  {
    "event_id": 2
  },
  {
    "event_id": 5
  }
]'


Разработчик api получения мероприятий на которые зарегестрировался пользователь.
https://github.com/AndrewMedvedev/events_fastapi


## Delete:
Ресурс для удаления пользователя с мероприятия.


> DELETE '/api/v1/visitors/delete/{event_id}'


Обязательные данные подлежащие заполнению.


| Name | Type |
|:----------:|:-------:|
| event_id  | int |


Пример ответа:
''200''


Разработчик api удаления пользователя с мероприятия.
https://github.com/AndrewMedvedev/events_fastapi